{"ast":null,"code":"import _defineProperty from\"/Users/anuradhasuresh/Desktop/Web Dev/dons-365/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";var Item=require('../models/Items');//Show details of items\nvar getItems=function getItems(req,res,next){Item.find().then(function(response){res.json({response:response});}).catch(function(error){console.log(error);res.json({message:'An error occured!'});});};//Search items by name\nvar searchByItem=function searchByItem(req,res,next){var itemname=req.body.itemname;Item.find(itemname).then(function(response){res.json({response:response});}).catch(function(error){console.log(error);res.json({message:'An error occured!'});});};//Show item details by name\nvar showItem=function showItem(req,res,next){var itemname=req.body.itemname;var itemId=req.body.itemId;console.log(\"itemId \",itemId,typeof itemId);console.log(\"itemname \",itemname,typeof itemname);if(itemId!=null&&itemId!=\"\"&&typeof itemId!=undefined){Item.findById(itemId).then(function(response){res.json({response:response});}).catch(function(error){console.log(error);res.json({message:'An error occured!'});});}else if(itemname!=null&&itemname!=\"\"&&typeof itemname!=undefined){Item.find({\"name\":itemname}).then(function(response){res.json({response:response});}).catch(function(error){console.log(error);res.json({message:'An error occured!'});});}else{res.json({message:'Please provide a valid search filter!'});}};//Add new Item\nvar addItem=function addItem(req,res,next){var item=new Item({name:req.body.name,description:req.body.description,price:req.body.price,uploadDate:Date(),itemPhoto:req.body.itemPhoto,status:\"Available\"});item.save().then(function(response){res.json({response:response});}).catch(function(error){console.log(error);res.json({error:error});});};//Update an Item\nvar updateItem=function updateItem(req,res,next){var itemId=req.body.itemId;var updatedData={name:req.body.name,description:req.body.description,price:req.body.price,uploadDate:req.body.uploadDate,itemPhoto:req.body.itemPhoto,status:req.body.status};Item.findByIdAndUpdate(itemId,{$set:updatedData}).then(function(){res.json({message:'Item Updated'});}).catch(function(error){res.json({message:'An error occured!'});});};//Delete an Item\nvar deleteItem=function deleteItem(req,res,next){var itemId=req.body.itemId;Item.findOneAndRemove(itemId).then(function(){req.json({message:'Item deleted successfully'});}).catch(function(error){console.log(error);req.json({message:'An error occured!'});});};module.exports=_defineProperty({getItems:getItems,addItem:addItem,searchByItem:searchByItem,showItem:showItem,updateItem:updateItem,deleteItem:deleteItem},\"searchByItem\",searchByItem);","map":{"version":3,"names":["Item","require","getItems","req","res","next","find","then","response","json","catch","error","console","log","message","searchByItem","itemname","body","showItem","itemId","undefined","findById","addItem","item","name","description","price","uploadDate","Date","itemPhoto","status","save","updateItem","updatedData","findByIdAndUpdate","$set","deleteItem","findOneAndRemove","module","exports"],"sources":["/Users/anuradhasuresh/Desktop/Web Dev/dons-365/src/controllers/itemsController.js"],"sourcesContent":["const Item = require('../models/Items')\n\n//Show details of items\n\nconst getItems = (req, res, next) => {\n    Item.find().then(response => {\n        res.json({\n            response\n        })\n    })\n    .catch(error => {\n        console.log(error)\n        res.json({\n            \n            message: 'An error occured!'\n        })\n    })\n}\n\n\n//Search items by name\n\nconst searchByItem = (req, res, next) => {\n    let itemname = req.body.itemname\n    Item.find(itemname).then(response => {\n        res.json({\n            response\n        })\n    })\n    .catch(error => {\n        console.log(error)\n        res.json({\n            \n            message: 'An error occured!'\n        })\n    })\n}\n\n//Show item details by name\nconst showItem = (req, res, next) => {\n    let itemname = req.body.itemname\n    let itemId = req.body.itemId\n    console.log(\"itemId \", itemId, typeof(itemId))\n    console.log(\"itemname \", itemname, typeof(itemname))\n    if(itemId != null && itemId != \"\" && typeof(itemId) != undefined)\n    {\n        Item.findById(itemId).then(response => {\n            res.json({\n                response\n            })\n        })\n        .catch(error => {\n            console.log(error)\n            res.json({\n                message: 'An error occured!'\n\n            })\n         })\n    }\n\n    else if(itemname != null && itemname != \"\" &&  typeof(itemname) != undefined )\n    {\n        Item.find({\"name\":itemname}).then(response => {\n            res.json({\n                response\n            })\n        })\n        .catch(error => {\n            console.log(error)\n            res.json({\n                \n                message: 'An error occured!'\n            })\n        })\n    }\n\n    else\n    {\n        res.json({\n                \n            message: 'Please provide a valid search filter!'\n        })\n    }\n        \n}\n\n//Add new Item\n\nconst addItem = (req, res, next) => {\n    let item = new Item({\n        name: req.body.name,\n        description: req.body.description,\n        price: req.body.price,\n        uploadDate: Date(),\n        itemPhoto: req.body.itemPhoto,\n        status: \"Available\"\n    })\n    item.save()\n    .then(response => {\n        res.json({\n            response\n        })\n    })\n    .catch(error =>{\n        console.log(error)\n        res.json({\n            error\n        })\n    })\n}\n\n//Update an Item\n\nconst updateItem = (req, res, next) => {\n    let itemId = req.body.itemId\n\n    let updatedData = {\n        name: req.body.name,\n        description: req.body.description,\n        price: req.body.price,\n        uploadDate: req.body.uploadDate,\n        itemPhoto: req.body.itemPhoto,\n        status: req.body.status\n    }\n    Item.findByIdAndUpdate(itemId, {$set: updatedData})\n    .then(() => {\n        res.json({\n            message:'Item Updated'\n        })\n    })\n    .catch(error => {\n        res.json({\n            message: 'An error occured!'\n        })\n    })\n}\n\n//Delete an Item\nconst deleteItem = (req, res, next) => {\n    let itemId = req.body.itemId\n    Item.findOneAndRemove(itemId)\n    .then(() =>{\n        req.json({\n            message: 'Item deleted successfully'\n        })        \n    })\n    .catch(error =>{\n        console.log(error)\n        req.json({\n            message: 'An error occured!'\n        })\n    })\n}\n\nmodule.exports = {\n    getItems, addItem, searchByItem, showItem, updateItem, deleteItem, searchByItem\n}"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}